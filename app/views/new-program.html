<div class="row nogutter">
  <form ng-submit="submit">
  <div class="col-xs-12 col-md-4 col-md-offset-1">

    <!-- Name -->
    <div class="program-field-box" id="program-name-box">
      <div class="edit-box"><input type="text" id="program-name-input" ng-model="master.name"></div>
    </div>

    <!-- Goal -->
    <div class="program-option program-field-box" id="program-goal-box">
      <span>Goal:</span>
      <span class="edit-box">
        <select ng-model="master.goal">
          <option value="mass-gain">Mass gain</option>
          <option value="fat-loss">Fat loss</option>
          <option value="strength">Strength</option>
        </select>
      </span>
    </div>

    <!-- Level -->
    <div class="program-option program-field-box" id="program-level-box">
      <span>Level:</span>
      <span class="edit-box">
        <select ng-model="master.level">
          <option value="beginner">Beginner</option>
          <option value="intermmediate">Intermmediate</option>
          <option value="advanced">Advanced</option>
        </select>
      </span>
    </div>

  </div>

  <div class="col-xs-12 col-md-4 col-md-offset-2 program-tree" id="program-routine">
    <h3>Routine</h3>

    <ul class="day-list" ng-model="master.program_days_attributes">
      <li ng-repeat="day in master.program_days_attributes" class="program-item day-item day-expanded" ng-init="dayIndex = $index">
        <!-- <span ui-tree-handle ng-show="treeEnabled" class="ui-tree-handle glyphicon glyphicon-menu-hamburger"></span> -->
        <div class="edit-box">
          <input type="text" ng-model="day.name" ng-model-options="{debounce: { 'default': 500 }}">
        </div>

        <!-- exercise list -->
        <ul class="exercise-list" ng-model="day.program_day_exercises_attributes">
          <li ng-repeat="ex in day.program_day_exercises_attributes" class="program-item exercise-item exercise-expanded" ng-init="exIndex = $index">
            <!-- <span ui-tree-handle ng-show="treeEnabled" class="ui-tree-handle glyphicon glyphicon-menu-hamburger"></span> -->
            <a class="program-item-text expand-btn">
              <span class="program-item-value" ng-bind="ex.name"></span>
              <div class="program-item-actions">
                <div class="program-item-action edit-btn show-global" ng-click="editExercise(ex); $event.stopPropagation();"><i class="glyphicon glyphicon-pencil"></i></div>
                <div class="program-item-action remove-btn show-global" ng-click="destroyExercise(dayIndex, exIndex, $event); $event.stopPropagation()"><i class="glyphicon glyphicon-remove"></i></div>
                <div class="program-item-action arrow"></div>
              </div>
            </a>

            <!-- set list -->
            <ul class="set-list" ng-model="ex.program_day_exercise_sets_attributes">
              <li ng-repeat="set in ex.program_day_exercise_sets_attributes" class="program-item set-item">
                <!-- <span ui-tree-handle ng-show="treeEnabled" class="ui-tree-handle glyphicon glyphicon-menu-hamburger"></span> -->
                <span class="set-nr" ng-bind="$index+1"></span>
                <div class="edit-box">
                  <input type="text" ng-model="set.reps" ng-model-options="{debounce: { 'default': 500 }}">
                </div>
              </li>
              <li class="show-global"><a href ng-click="addSet(dayIndex, exIndex)" class="add-set-btn"><i class="glyphicon glyphicon-plus"></i>Add set</a></li>
            </ul> <!-- end set list -->
          </li>
          <li class="show-global"><a href ng-click="addExercise(dayIndex)" class="add-exercise-btn"><i class="glyphicon glyphicon-plus"></i> Add exercise</a></li>
        </ul> <!-- end exercise list -->
      </li>
      <li class="show-global"><a href ng-click="addDay()" class="add-day-btn"><i class="glyphicon glyphicon-plus"></i> Add day</a></li>
    </ul> <!-- end day list -->

  </div>

  <div class="col-xs-12 col-md-2 col-md-offset-1">
    <input type="submit" value="Save" class="btn btn-block btn-primary btn-lg">
  </div>

  </form>
</div>
